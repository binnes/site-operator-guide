<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The TechZone Automation Toolkit is an open-source collection of assets that enable application development and support teams to deliver business value quickly using Red Hat OpenShift or Kubernetes"><meta name=author content="TechZone Automation development team"><link href=https://operate.cloudnativetoolkit.dev/resources/automation-runtimes/ rel=canonical><link rel=icon href=../../images/cloudnativetoolkit.png><meta name=generator content="mkdocs-1.2.3, mkdocs-material-7.2.6"><title>Automation Runtimes - TechZone Automation: Operate</title><link rel=stylesheet href=../../assets/stylesheets/main.802231af.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.3f5d1f46.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback"><style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style><link rel=stylesheet href=../../css/extra.css><link rel=stylesheet href=../../css/toolkit-code.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-153689700-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script><script async src=https://www.google-analytics.com/analytics.js></script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="TechZone Automation: Operate - Automation Runtimes"><meta property=og:description content="The TechZone Automation Toolkit is an open-source collection of assets that enable application development and support teams to deliver business value quickly using Red Hat OpenShift or Kubernetes"><meta content=https://operate.cloudnativetoolkit.dev/resources/automation-runtimes/ property=og:url><meta property=og:image content=https://operate.cloudnativetoolkit.dev/assets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#automation-runtime-environments class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="TechZone Automation: Operate" class="md-header__button md-logo" aria-label="TechZone Automation: Operate" data-md-component=logo> <img src=../../images/cloudnativetoolkit.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TechZone Automation: Operate </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Automation Runtimes </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/cloud-native-toolkit/site-operator-guide/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!-- Determine class according to configuration --> <!-- Main navigation --> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <!-- Site title --> <!--
  <label class="md-nav__title" for="__drawer">
    <a
      href="../.."
      title="TechZone Automation: Operate"
      class="md-nav__button md-logo"
      aria-label="TechZone Automation: Operate"
      data-md-component="logo"
    >
      
  <img src="../../images/cloudnativetoolkit.png" alt="logo">

    </a>
    TechZone Automation: Operate
  </label>
--> <!-- Repository information --> <div class=md-nav__source> <a href=https://github.com/cloud-native-toolkit/site-operator-guide/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> <!-- Render item list --> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Getting Started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../getting-started/setup/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../getting-started/best-practices/ class=md-nav__link> Best practices </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Concepts <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Concepts data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/overview/ class=md-nav__link> Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Tasks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tasks data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tasks/overview/ class=md-nav__link> Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../tutorials/1-setup/ class=md-nav__link> Setup </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../reference/glossary/ class=md-nav__link> Glossary </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Contribute <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Contribute data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Contribute </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contribute/overview/ class=md-nav__link> Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8> Previous Layout (to be removed once incorporated into the new layout) <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Previous Layout (to be removed once incorporated into the new layout)" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Previous Layout (to be removed once incorporated into the new layout) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> Getting started </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_2 type=checkbox id=__nav_8_2> <label class=md-nav__link for=__nav_8_2> Learn <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Learn data-md-level=2> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../learn/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_2_2 type=checkbox id=__nav_8_2_2> <label class=md-nav__link for=__nav_8_2_2> Create <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Create data-md-level=3> <label class=md-nav__title for=__nav_8_2_2> <span class="md-nav__icon md-icon"></span> Create </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../learn/iascable/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../learn/iascable/lab1/ class=md-nav__link> Lab 1: The basics </a> </li> <li class=md-nav__item> <a href=../../learn/iascable/lab2/ class=md-nav__link> Lab 2: Infrastructure </a> </li> <li class=md-nav__item> <a href=../../learn/iascable/lab3/ class=md-nav__link> Lab 3: GitOps </a> </li> <li class=md-nav__item> <a href=../../learn/iascable/lab4/ class=md-nav__link> Lab 4: Develop GitOps module </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_3 type=checkbox id=__nav_8_3> <label class=md-nav__link for=__nav_8_3> Apply <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Apply data-md-level=2> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> Apply </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../apply/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../apply/bill-of-material-reference/ class=md-nav__link> Bill of Material </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_3_3 type=checkbox id=__nav_8_3_3> <label class=md-nav__link for=__nav_8_3_3> Multiple module catalogs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Multiple module catalogs" data-md-level=3> <label class=md-nav__title for=__nav_8_3_3> <span class="md-nav__icon md-icon"></span> Multiple module catalogs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../apply/multi-catalog/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../apply/multi-catalog/iascable/ class=md-nav__link> Generating automation </a> </li> <li class=md-nav__item> <a href=../../apply/multi-catalog/custom-catalog/ class=md-nav__link> Creating a catalog </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../apply/end-to-end-testing/ class=md-nav__link> End-To-End Testing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8_4 type=checkbox id=__nav_8_4 checked> <label class=md-nav__link for=__nav_8_4> Resources <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Resources data-md-level=2> <label class=md-nav__title for=__nav_8_4> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../ascent/ class=md-nav__link> ASCENT </a> </li> <li class=md-nav__item> <a href=../automation-bundles/ class=md-nav__link> Automation bundles </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Automation Runtimes <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Automation Runtimes </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#supported-runtimes class=md-nav__link> Supported runtimes </a> <nav class=md-nav aria-label="Supported runtimes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#docker-desktop class=md-nav__link> Docker Desktop </a> </li> <li class=md-nav__item> <a href=#multipass class=md-nav__link> Multipass </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#unsupported-runtimes class=md-nav__link> Unsupported runtimes </a> <nav class=md-nav aria-label="Unsupported runtimes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#colima-instructions class=md-nav__link> Colima instructions </a> </li> <li class=md-nav__item> <a href=#podman-instructions class=md-nav__link> Podman instructions </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../module-catalog/ class=md-nav__link> Module catalog </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#supported-runtimes class=md-nav__link> Supported runtimes </a> <nav class=md-nav aria-label="Supported runtimes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#docker-desktop class=md-nav__link> Docker Desktop </a> </li> <li class=md-nav__item> <a href=#multipass class=md-nav__link> Multipass </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#unsupported-runtimes class=md-nav__link> Unsupported runtimes </a> <nav class=md-nav aria-label="Unsupported runtimes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#colima-instructions class=md-nav__link> Colima instructions </a> </li> <li class=md-nav__item> <a href=#podman-instructions class=md-nav__link> Podman instructions </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/cloud-native-toolkit/site-operator-guide/edit/main/docs/resources/automation-runtimes/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=automation-runtime-environments>Automation runtime environments<a class=headerlink href=#automation-runtime-environments title="Permanent link">&para;</a></h1> <h2 id=supported-runtimes>Supported runtimes<a class=headerlink href=#supported-runtimes title="Permanent link">&para;</a></h2> <p>There are two supported runtimes where the automation is expected to be executed inside of:</p> <ol> <li><a href=#docker-desktop>Docker Desktop</a> (Container engine)</li> <li><a href=#multipass>Multipass</a> (VM)</li> </ol> <p>The Terraform automation can be run from the local operating system, but it is recommended to use either of the runtimes listed above, which provide a consistent and controlled environment, with all dependencies preinstalled.</p> <h3 id=docker-desktop>Docker Desktop<a class=headerlink href=#docker-desktop title="Permanent link">&para;</a></h3> <p><a href=https://docs.docker.com/desktop/ >Docker Desktop</a> is an easy-to-use application that enables you to build and share containerized applications.</p> <p>It provides a simple interface that enables you to manage your containers, applications, and images directly from your machine without having to use the CLI to perform core actions.</p> <p>Docker Desktop is supported across Mac, Windows, and Linux, and can be downloaded and installed directly from: <a href=https://www.docker.com/products/docker-desktop/ >https://www.docker.com/products/docker-desktop/</a></p> <p>Once installed, use the automation template's <code>launch.sh</code> script to launch an interactive shell where the Terraform automation can be executed.</p> <h3 id=multipass>Multipass<a class=headerlink href=#multipass title="Permanent link">&para;</a></h3> <p><a href=https://multipass.run/ >Multipass</a> is a simplified Ubuntu Linux Virtual Machine that you can spin up with a single command. With this option you spin up a virtual machine with a predefined configuration that is ready to run the Terraform automation. </p> <p>You can download and install Multipass from <a href=https://multipass.run/install>https://multipass.run/install</a></p> <p>Once you have installed Multipass, open up a command line terminal and <code>cd</code> into the <em>parent</em> directory where you cloned the automation repo.</p> <p>Download the <a href=https://github.com/cloud-native-toolkit/sre-utilities/blob/main/cloud-init/cli-tools.yaml>cloud-init</a> script for use by the virtual machine using:</p> <div class=highlight><pre><span></span><code>curl https://raw.githubusercontent.com/cloud-native-toolkit/sre-utilities/main/cloud-init/cli-tools.yaml --output cli-tools.yaml
</code></pre></div> <p>The <code>cli-tools</code> cloud init script prepares a VM with the same tools available in the quay.io/cloudnativetoolkit/cli-tools-ibmcloud container image. Particularly:</p> <ul> <li>terraform</li> <li>terragrunt</li> <li>git</li> <li>jq</li> <li>yq</li> <li>oc</li> <li>kubectl</li> <li>helm</li> <li>ibmcloud cli</li> </ul> <p>Launch the Multipass virtual machine using the following command:</p> <div class=highlight><pre><span></span><code>multipass launch --name cli-tools --cloud-init ./cli-tools.yaml
</code></pre></div> <p>This will take several minutes to start the virtual machine and apply the configuration. </p> <p>Once the virtual machine is started, you need to mount the local file system for use within the virtual machine.</p> <p>Then mount the file system using the following command:</p> <div class=highlight><pre><span></span><code>multipass mount $PWD cli-tools:/automation
</code></pre></div> <p>This will mount the parent directory to the <code>/automation</code> directory inside of the virtual machine.</p> <blockquote> <p>⚠️ MacOS users may encounter the following error if Multipass has not been granted file system access.<br> <div class=highlight><pre><span></span><code>mount failed: source &quot;{current directory}&quot; is not readable
</code></pre></div></p> <p>If you encounter this error, then you need to enable full disk access in the operating system before you can successfully mount the volume. Go to <code>System Preferences</code>, then go to <code>Security and Privacy</code>, and select the <code>Privacy</code> tab. Scroll the list on the left and select "Full Disk Access" and allow access for <code>multipassd</code>.</p> <p><img alt="Multipass security settings" src=https://github.com/cloud-native-toolkit/automation-solutions/raw/main/common-files/multipass-security.png></p> <p>After granting access to <code>multipassd</code>, then re-run the <code>multipass mount $PWD cli-tools:/automation</code> command.</p> </blockquote> <p>Once the virtual machine has started, run the following command to enter an interactive shell:</p> <div class=highlight><pre><span></span><code>multipass shell cli-tools
</code></pre></div> <p>Once in the shell, <code>cd</code> into the <code>/automation/{template}</code> folder, where <code>{template}</code> is the Terraform template you configured. Then you need to load credentials into environment variables using the following command:</p> <div class=highlight><pre><span></span><code>source credentials.properties
</code></pre></div> <p>Once complete, you will be in an interactive shell that is pre-configured with all dependencies necessary to execute the Terraform automation.</p> <hr> <h2 id=unsupported-runtimes>Unsupported runtimes<a class=headerlink href=#unsupported-runtimes title="Permanent link">&para;</a></h2> <p>Additional container engines, such as podman or colima may be used at your own risk. They may work, however, there are known issues using these environments, and the development team does not provide support for these environments.</p> <p>Known issues include:</p> <ol> <li>Network/DNS failures under load</li> <li>Read/write permissions to local storage volumes</li> <li>Issues running binary executables from volumes mounted from the host</li> <li>Time drift issues when hosts are suspended/resumed</li> </ol> <h3 id=colima-instructions>Colima instructions<a class=headerlink href=#colima-instructions title="Permanent link">&para;</a></h3> <ul> <li>Install <a href=https://brew.sh/ >Brew</a></li> <li>Install <a href=https://github.com/abiosoft/colima>Colima</a> (a replacement for Docker Desktop ) and the <strong>docker</strong> cli</li> </ul> <div class=highlight><pre><span></span><code>brew install colima docker
</code></pre></div> <ul> <li>More information available at: <a href=https://github.com/abiosoft/colima#installation>https://github.com/abiosoft/colima#installation</a></li> </ul> <h3 id=podman-instructions>Podman instructions<a class=headerlink href=#podman-instructions title="Permanent link">&para;</a></h3> <p>Unlike Docker which traditionally has separated a cli from a daemon-based container engine, <a href=https://podman.io>Podman</a> is a daemon-less container engine originally developed for <a href=#getting-started-with-podman-for-linux>Linux</a> systems. There is a <a href=#getting-started-with-podman-for-macos>MacOS</a> port which has sufficient features to support running the automation based on container images. Podman can run containers in root or rootless mode. Current permissions setup in the <code>launch.sh</code> script will require root mode.</p> <h4>Getting started with Podman for MacOS</h4> <ul> <li>Install <a href=https://brew.sh/ >Brew</a></li> <li>Install <a href=https://podman.io>Podman</a> (a replacement for Docker Desktop ) and the <strong>docker</strong> cli</li> </ul> <div class=highlight><pre><span></span><code>brew install podman docker
</code></pre></div> <ul> <li>Create a podman machine, set it to run in rootful mode and start it</li> </ul> <div class=highlight><pre><span></span><code>podman machine init
podman machine <span class=nb>set</span> --rootful
podman machine start
</code></pre></div> <p>Once the podman vm is started, use the automation template's <code>launch.sh</code> script to launch an interactive shell where the Terraform automation can be executed.</p> <h5>Dealing with known issues for Podman on MacOS</h5> <ul> <li> <p>When resuming from suspend, if the podman machine is left running, it will not automatically synchronize to the host clock. This will cause the podman machine to lose time. Either stop/restart the podman machine or define an alias like this in your startup scripts:</p> <div class=highlight><pre><span></span><code><span class=nb>alias</span> <span class=nv>fpt</span><span class=o>=</span><span class=s2>&quot;podman machine ssh \&quot;sudo chronyc -m &#39;burst 4/4&#39; makestep; date -u\&quot;&quot;</span>
</code></pre></div> <p>then fix podman time with the <code>fpt</code> command.</p> </li> <li> <p>There is currently an QEMU bug which prevents binary files that should be executable by the podman machine vm from operating from inside a mounted volume path. This is most common when using the host automation directory, vs a container volume like <code>/workspaces</code> for running the automation. Generally the cli-tools image will have any binary needed and the <code>utils-cli</code> module will symbolically link, vs. download a new binary into this path. However there can be drift between binaries in <code>cli-tools</code> image used by <code>launch.sh</code> and those requested to the <code>utils-cli</code> module.</p> </li> </ul> <h4>Getting started with Podman for Linux</h4> <ul> <li>Visit and follow the <a href=https://podman.io/getting-started/installation#installing-on-linux>installation instructions</a> for your distribution</li> </ul> <p>Once the podman application is installed provide <code>sudo podman</code> as the first argument to the automation template's <code>launch.sh</code> script to launch an interactive shell where the Terraform automation can be executed:</p> <div class=highlight><pre><span></span><code>./launch.sh <span class=s1>&#39;sudo podman&#39;</span>
</code></pre></div> <ul> <li>More information available at: <a href=https://podman.io/getting-started/installation>https://podman.io/getting-started/installation</a></li> </ul> </article> </div> </div> </main> <!-- Footer --> <footer class=md-footer> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-column> <div class=md-footer-text><a href=https://modules.cloudnativetoolkit.dev/#/contributing>Contribute</a> to the TechZone Automation</div> <div class=md-footer-text>Site licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ >CC BY-NC-SA 4.0</a></div> </div> <div class=md-footer-column> <div class=md-footer-text>Have questions? open an issue on <a href=https://github.com/cloud-native-toolkit/planning/issues/new/choose>GitHub</a>.</div> <!-- Copyright and theme information --> <div class=md-footer-text> Copyright © 2022 TechZone Automation </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "content.tabs.link"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.756773cc.min.js></script> </body> </html>